<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-gb">
<head>
















  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <title>LuaSNMP - Running</title>
  <link media="screen" href="style.css" rel="stylesheet" type="text/css" />

















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <link media="print" rel="stylesheet" href="styleprint.css" type="text/css" />
</head>


<body>

















<div style="top: 12px; height: 129px; left: 0px; text-align: center; width: 925px;" id="logo"><a name="home2"></a><a href="http://www.lua.org"><img style="border: 0px solid ; left: 0px; top: 6px; width: 115px; height: 118px; float: left;" id="lualogo" alt="www.lua.org" src="luasnmp2.png" hspace="20" /></a></div>

















<div id="header">
<h1 style="height: 120px; margin-left: 0px; width: 928px;"><big><big><a name="home"></a><br />

















LuaSNMP - Reference</big></big> <br />

















Simple
Network Management Access with Lua</h1>

















</div>

















<div id="leftnavigation">
<ul>

















  <li style="margin-left: 0px; width: 185px;"><a class="current" href="index.html">Home</a> </li>

















  <li><a href="index.html#license">License</a></li>

















  <li><a href="index.html#features">Features</a></li>

















  <li><a href="index.html#downloads">Download</a></li>

















  <li><a href="index.html#installation">Installation</a></li>

















  <li><a href="running.html">MANUAL</a></li>

















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <ul>

















    <li><a href="#running">Running</a></li>

















    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <ul>

















      <li><a href="#loadbin">LuaSNMP scripts</a></li>
















      <li><a href="#loading_snmp">Loading module</a></li>







      <li><a href="#config_files">Configuration Files</a></li>










    
    
    
    
    
    
    
    
    
    
    </ul>










    <li><a href="objects.html">Object Names</a></li>











    <li><a href="objects.html#data_types">Data Types</a></li>









    <li><a href="objects.html#varbinds">Varbinds</a></li>









    <li><a href="objects.html#sessions">SNMP Sessions</a></li>









    <li><a href="objects.html#trap_handling">Trap Handling</a></li>






    <li><a href="mib.html">Access to MIBs</a></li>

















    











    <li><a href="snmp.html">Access to SNMP</a></li>




    <li><a href="examples.html">Examples</a> </li>

















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </ul>

















  <li><a href="index.html#whatsnew">What's New</a></li>

















  <li><a href="index.html#credits">Credits</a></li>

















  <li><a href="index.html#links">Links</a></li>

















  <li><a href="index.html#todo">ToDo</a></li>

















</ul>

















</div>

















<div id="content">
<h1><a name="running"></a>Running LuaSNMP</h1>

















<h5>&nbsp;<span style="font-weight: bold;"><a name="exec"></a>LuaSNMP scripts</span></h5>

















<p>LuaSNMP scripts are standard Lua scripts and may utilise all the
features provided by Lua and it's companion libraries. You start a
LuaSNMP script simply from the command line:</p>












<pre>$ lua SCRIPTFILE</pre>












<p>However, in order to make use of LuaSNMP it must be loaded into the
Lua universe. This can be done by using Lua's -l commandline option:</p>












<pre>$ lua -l snmp -l OTHER SCRIPTFILE</pre>




















<p>This line starts the Lua interpreter and loads LuaSNMP and other
modules specified via the -l command line option before the user script
SCRIPTFILE is loaded and executed.</p>












<p style="font-weight: bold;"><span style="font-weight: normal;">The has now access to all the LuaSNMP definitions via the global table <span style="font-weight: bold; font-style: italic;">snmp </span><span style="font-weight: bold;">and</span><span style="font-weight: bold; font-style: italic;"> snmp.mib.</span></span></p>












<p style="font-weight: bold;"><span style="font-weight: normal;"><span style="font-style: italic;"></span>You can also specify lua as the interpreter to use inside the Lua script, which then allows you to directly execute the script.</span></p>












<pre>#!/usr/bin/env lua<br />...</pre>












<p style="font-weight: bold;"><span style="font-weight: normal;">Note, that this line is NOT standard Lua code and must only appear in the first line of your script.</span></p>












<h5><a name="loading_snmp"></a>Loading "snmp"</h5>







<p>A more flexible way is to load the&nbsp; LuaSNMP library from within your Lua script:</p>






















<pre>...<br />-- Load the LuaSNMP module<br />require "snmp" <br />...</pre>












<p>This&nbsp;loads all definitions provided by
LuaSNMP into the new global namespace <span style="font-weight: bold; font-style: italic;">snmp</span>. MIB access functions are accessible via the submodule <span style="font-weight: bold; font-style: italic;">snmp.mib.</span></p>












<p>Since the namespaces are accessed frequently, it&nbsp;is recommended
to access LuaSNMP definitions using a&nbsp;local reference&nbsp;to the
namespaces. It also allows you to rename the namespace.</p>












<pre>-- Load the LuaSNMP module <br />local snmp = require "snmp"<br /><br />-- Get simple access to MIB access functions<br />local mib = snmp.mib</pre>






















<p>In the case the user defined Lua code is distributed among
different scipt files, it is always possible to set such local
references:</p>

















<pre>-- Since snmp is a symbol in the global Lua namespace the following<br />   code is always valid: <br />local snmp, mib = snmp, snmp.mib</pre>












<h5><a name="config_files"></a>Configuration Files</h5>







<p>LuaSNMP honors Net-SNMP snmp.conf configuration files in two ways:</p>







<ul>







  <li>Evaluate default values defined in snmp.conf during session creation.</li>







  <li>Most of the configuration file directives are or course valid for the underlying Net-SNMP library itself.&nbsp;</li>







</ul>















<br />

















</div>

















<div id="footer">(c) 2006-2009 Herbert Leuwer, March 2006&nbsp;&nbsp; &nbsp;<a href="mailto:herbert.leuwer@t-online.de">Contact</a></div>

















<small><small>
</small></small>
</body>
</html>
